{"version":3,"file":"js/prototype_4-14e7046bb11a71c29a9f.js","sources":["webpack:///webpack/bootstrap","webpack:///./app/javascript/packs/prototype_4.js","webpack:///./app/javascript/prototypes/prototype_4/models.js","webpack:///./app/javascript/prototypes/prototype_4/store.js","webpack:///./app/javascript/prototypes/prototype_4/utilities.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/packs/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app/javascript/packs/prototype_4.js\");\n","import {\n  getRandomArbitrary,\n  sample,\n  getFrame\n} from '../prototypes/prototype_4/utilities'\n\nimport {\n  largeWhiteCircleModel,\n  circleModel\n} from '../prototypes/prototype_4/models'\n\nimport {\n  getLargeWhiteCircleStore,\n  setLargeWhiteCircleStore\n} from '../prototypes/prototype_4/store'\n\nfunction createLargeWhiteCircle() {\n  return new Promise(function (resolve, reject) {\n    console.log('createLargeWhiteCircle call')\n    const circles = getLargeWhiteCircleStore()\n    let settings\n\n    if (circles.length) {\n      const firstCircleVSide = circles[0]['types']['vSide']\n      const firstCircleHSide = circles[0]['types']['hSide']\n      const firstCircleSize = circles[0]['types']['size']\n\n      const vSide = firstCircleVSide == 'top' ? 'bottom' : 'top'\n      const hSide = firstCircleHSide == 'left' ? 'right' : 'left'\n      const size = firstCircleSize == 'small' ? 'large' : 'small'\n\n      settings = createCircle(\n        largeWhiteCircleModel.className,\n        vSide,\n        hSide,\n        size,\n        1\n      )\n    } else {\n      const vSide = sample(\n        Object.keys(largeWhiteCircleModel['sides']['vSides'])\n      )\n\n      const hSide = sample(\n        Object.keys(largeWhiteCircleModel['sides']['hSides'])\n      )\n\n      const size = sample(Object.keys(largeWhiteCircleModel['sizes']))\n\n      settings = createCircle(\n        largeWhiteCircleModel.className,\n        vSide,\n        hSide,\n        size,\n        1\n      )\n    }\n\n    circles.push(settings)\n    setLargeWhiteCircleStore(circles)\n\n    resolve()\n  })\n}\n\nfunction createCircle(className, vSide, hSide, size, zIndex) {\n  const frame = getFrame()\n  const largeWhiteCircleStore = getLargeWhiteCircleStore()\n  const circleElement = document.createElement('div')\n  const circleType = circleModel['largeCircleWhite']\n  circleElement.classList.add('circle')\n\n  const vSideSettings = largeWhiteCircleModel['sides'][vSide]\n  const hSideSettings = largeWhiteCircleModel['sides'][hSide]\n  const sizeSettings = largeWhiteCircleModel['sizes'][size]\n\n  const diameterPercent = getRandomArbitrary(\n    sizeSettings['from'],\n    sizeSettings['to']\n  )\n\n  const diameter = (frame.getBoundingClientRect().width / 100) * diameterPercent\n  const shiftY = generateShiftYFromSide(vSide, diameter, circleElement)\n  const shiftX = generateShiftXFromSide(hSide, diameter, circleElement)\n\n  const settings = {\n    types: {\n      vSide,\n      hSide,\n      size\n    },\n    shiftY,\n    shiftX,\n    diameter\n  }\n\n  circleElement.style.width = [diameter, 'px'].join('')\n  circleElement.style.height = [diameter, 'px'].join('')\n  circleElement.style.zIndex = zIndex\n  circleElement.classList.add(className)\n\n  frame.appendChild(circleElement)\n\n  return settings\n}\n\nfunction generateShiftYFromSide(side, diameter, circleElement) {\n  const sideSettings = largeWhiteCircleModel['sides']['vSides'][side]\n\n  const shiftPercent = getRandomArbitrary(\n    sideSettings['from'],\n    sideSettings['to']\n  )\n\n  const shift = (diameter / 100) * shiftPercent\n\n  // console.log(circleElement, side, shiftPercent, shift)\n\n  if (side === 'top') {\n    circleElement.style.top = ['-', shift, 'px'].join('')\n  } else if (side === 'bottom') {\n    circleElement.style.bottom = ['-', shift, 'px'].join('')\n  }\n\n  return shift\n}\n\nfunction generateShiftXFromSide(side, diameter, circleElement) {\n  const sideSettings = largeWhiteCircleModel['sides']['hSides'][side]\n\n  const shiftPercent = getRandomArbitrary(\n    sideSettings['from'],\n    sideSettings['to']\n  )\n\n  const shift = (diameter / 100) * shiftPercent\n\n  // console.log(circleElement, side, shiftPercent, shift)\n\n  if (side === 'left') {\n    circleElement.style.left = ['-', shift, 'px'].join('')\n  } else if (side === 'right') {\n    circleElement.style.right = ['-', shift, 'px'].join('')\n  }\n\n  return shift\n}\n\nfunction generateStory() {\n  // for (var i = 0; i < sample(particlesQuantity); i++) {\n  //   createCircle(frame)\n  // }\n\n  createLargeWhiteCircle().then(createLargeWhiteCircle)\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const container = document.getElementsByClassName('prototype_4')[0]\n  const frame = document.createElement('div')\n  frame.classList.add('frame')\n  container.appendChild(frame)\n  generateStory()\n})\n","const largeWhiteCircleModel = {\n  className: 'large-circle-white',\n  sides: {\n    vSides: {\n      top: {\n        from: 30,\n        to: 70\n      },\n      bottom: {\n        from: 30,\n        to: 70\n      }\n    },\n    hSides: {\n      left: {\n        from: 0,\n        to: 60\n      },\n      right: {\n        from: 0,\n        to: 60\n      }\n    }\n  },\n  sizes: {\n    small: {\n      from: 50,\n      to: 110\n    },\n    large: {\n      from: 60,\n      to: 190\n    }\n  }\n}\n\n// [class-name, min-diameter, max-diameter, min-layer, max-layer]\nconst circleModel = {\n  deepfaceGreenWhite: ['deepface-green-white', 10, 500, 2, 4],\n  deepfaceGreenBlack: ['deepface-green-black', 10, 500, 2, 4],\n  deepfaceDarkGreenWhite: ['deepface-dark-green-white', 10, 500, 2, 4],\n  deepfaceDarkGreenBlack: ['deepface-dark-green-black', 10, 500, 2, 4],\n  deepfaceBlack: ['deepface-black', 10, 500, 2, 4],\n  circleBlack: ['circle-black', 30, 70, 1, 1],\n  circleWhite: ['circle-white', 30, 70, 1, 1],\n  largeCircleBlack: ['large-circle-black', 900, 1500, 1, 1],\n  largeCircleWhite: ['large-circle-white', 900, 1500, 1, 1]\n}\n\nexport { largeWhiteCircleModel, circleModel }\n","let largeWhiteCircleStore = []\n\nfunction getLargeWhiteCircleStore() {\n  return largeWhiteCircleStore\n}\n\nfunction setLargeWhiteCircleStore(data) {\n  largeWhiteCircleStore = data\n}\n\nexport { getLargeWhiteCircleStore, setLargeWhiteCircleStore }\n","function getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min\n}\n\nfunction sample(array) {\n  return array[Math.floor(Math.random() * array.length)]\n}\n\nfunction getFrame() {\n  return document.getElementsByClassName('frame')[0]\n}\n\nexport { getRandomArbitrary, sample, getFrame }\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAMA;AAKA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAOA;AACA;AAIA;AAIA;AAEA;AAOA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AARA;AAWA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AAUA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AAXA;AAsBA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AAxBA;AACA;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}